.grid {
  display: grid;
  grid-template-columns: var(--grid-cols, repeat(12, 1fr));
  align-items: start;
  column-gap: var(--grid-gap, 1rem);
}

.grid > {
  .gridItem {
    grid-column: span 6;
  }
  .grid {
    grid-column: span 12;
  }
}

@for $i from 1 through 12 {
  .grid[data-cols="#{$i}"] {
    grid-template-columns: repeat(#{$i}, 1fr);
  }
}

@for $i from 1 through 12 {
  .grid > .gridItem[data-colspan="#{$i}"] {
    grid-column: span #{$i};
  }
}

@for $i from 1 through 12 {
  .grid > .gridItem[data-rowspan="#{$i}"] {
    grid-row: span #{$i};
  }
}

.grid.stack {
  grid-template-columns: 100%;
}

[data-tab-container-size="xs"],
[data-tab-container-size="sm"] {
  .grid {
    grid-template-columns: 100% !important;
    .gridItem {
      grid-column: span 1 !important;
    }
  }
}

//
// IMPORTANT: sync with panel/form padding
//

.gridItem {
  &:empty {
    display: none;
  }
  &:not(:empty) {
    margin: calc(var(--grid-gap, 1rem) / 2) 0;
  }
}

[data-tab-container-size="xs"],
[data-tab-container-size="sm"] {
  .gridItem {
    &:empty {
      display: none;
    }
    &:not(:empty) {
      margin: calc(var(--grid-gap, 1rem) / 4) 0;
    }
  }
}
//
// NOTE: for debug
//

// .grid {
//   border: 1px dotted blue;
//   padding: 2px;
// }

// .gridItem {
//   border: 1px dotted orangered;
//   padding: 2px;
// }
